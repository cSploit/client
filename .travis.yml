language: android

node_js:
  - "6"

notifications:
  email: false

branches:
  only:
  - master

before_install:
  - sudo apt-get install nvm
install:
  - nvm install 7.4
  - nvm use 7.4
  - npm install -g npm@4.0.5
  - cd app
  - nvm use 
  - npm cache clean
  - npm install
  - npm install -g cordova
  - echo y | android update sdk -u --filter android-22,android-23
  - npm run build
  - cd ..

before_script:
  - cordova platform rm android
  - cordova platform add android

script:
  - cordova prepare
  - cordova build android --release -- --ant
  
release:
  - exit 0  
